entities:
  seaf.app.services:
    presentations:
      summary:
        title: Сводка по прикладному сервису
        params:
          type: object
          properties:
            seaf-app-service-id:
              title: Идентификатор прикладного сервиса
              type: string
          required:
            - seaf-app-service-id
        type: markdown
        template: templates/summary.md
        source: >
          (
              $service_id := $params."seaf-app-service-id";
              $ctx := $;
              $lookup($ctx."seaf.app.services", $service_id).(
                  [
                    {
                      "title": "Идентификатор",
                      "content": $service_id
                    },
                    { 
                      "title": "Название",
                      "content": title
                    },
                    {
                      "title": "Описание",
                      "content": description
                    },
                    {
                      "title": "Класс",
                      "content": class
                    },
                    {
                      "title": "Ролевая модель",
                      "content": role_model
                    },
                    {
                      "title": "Уровень критичности",
                      "content": criticality
                    },
                    location ? {
                      "title": "Размещение",
                      "content": location
                    },
                    ownership ? {
                      "title": "Степень владения",
                      "content": ownership
                    },
                    live_stage ? {
                      "title": "Этап жизненного цикла",
                      "content": live_stage
                    },
                    live_stage_target ? {
                      "title": "Этап жизненного цикла на горизонт планирования",
                      "content": live_stage_target
                    },
                    target_status ? {
                      "title": "Целевой статус (решение принято)",
                      "content": target_status
                    },
                    change_type ? {
                      "title": "Тип изменений",
                      "content": change_type
                    },
                    rto ? {
                      "title": "RTO (мин)",
                      "content": rto
                    },
                    rpo ? {
                      "title": "RPO (мин)",
                      "content": rpo
                    },
                    sla ? {
                      "title": "SLA (%)",
                      "content": sla
                    }
                  ]
              )
          )